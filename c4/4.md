# 四、编辑器基础

——我的世界我做主！

**<font color=ff0000>提示：本章节介绍的编辑器操作，以电脑版操作为例。</font>**

**<font color=ff0000>电脑版点击鼠标，手机版为点击屏幕，电脑版点击鼠标右键，手机版则为双击屏幕。</font>**

### 1.编辑器主菜单概述

SM4J是有关卡制造模式的（1.9版本加入），而在2.0版本编辑器进行了一次大革新，操作方式变化，所以我们可以自由创造马力欧的关卡啦！

首先在主菜单进入“额外模式”（西班牙语MODOS EXTRA 英语EXTRA）

然后选择“关卡编辑器”（CREADOR DE NIVELS）

<img src="./c4/image-20201125211042797.png" alt="image-20201125211042797" style="zoom:150%;" /><img src="./c4/image-20201125211048248.png" alt="image-20201125211048248" style="zoom:150%;" />



<img src="./c4/image-20201125211155981.png" alt="image-20201125211155981" style="zoom:150%;" />

这就是编辑器的主界面啦～

从上到下依次为“制造关卡”，“游玩关卡”，“全球关卡”和“全球关卡（网页）”。

### 2.编辑器的基本操作

点击制造关卡（西班牙语CREAR NIVEL，英语CREATE LEVEL）进入关卡编辑器。

如果你在设置里启用了自动保存，且有一个做了一半没保存的关卡，他会提示你是否加载自动保存。（Yes/No）

<img src="./c4/image-20201125211302060.png" alt="image-20201125211302060" />

如果你第一次打开编辑器，则没有这个提示，直接进入编辑器。

<img src="./c4/image-20201125211323748.png" alt="image-20201125211323748" style="zoom:150%;" />

进入编辑器，你可能会说：“哎？这咋啥也没有呢？马力欧在哪？”

先别急～你把光标往下移动（手机版使用左下角方向键，电脑版移动鼠标），就可以看见你的马力欧啦！

<img src="./c4/image-20201125211407452.png" alt="image-20201125211407452" style="zoom:150%;" />

这就是编辑器的主界面啦！

编辑器主体分为物品栏、工具栏和关卡区。物品栏分八大类，分别是方块，自然物品，道具，机关，敌怪，Boss，NPC和关卡物品。（下面标注的英文是这些物品在材质包中对应的文件夹，是高阶教程内容，现在可暂时不用理会），工具栏中包含关卡的配置，拖动部件，橡皮擦等。而下面则是你的关卡。

### 3.放置物品

俗话说，万丈高楼平地起，所以我们如果想制造一个关卡，得先学会放置和删除方块。

首先点击打开左上角的“方块”栏。<img src="./c4/image-20201125211433839.png" alt="image-20201125211433839"/>

<img src="./c4/image-20201125211503150.png" alt="image-20201125211503150" style="zoom:150%;" />

方块栏分4页，不过这里我们只讲前两页。物品栏就相当于画家的调色板，你想放置什么都可以从这里取。我这里以铺地为例讲解放置方块。

<img src="./c4/image-20201125211516609.png" alt="image-20201125211516609" style="zoom:150%;" />首先点击一个方块，这里我以草地为例。

<img src="./c4/image-20201125211542997.png" alt="image-20201125211542997" style="zoom:150%;" />

然后在场景中按住并拖动鼠标（手机版则是直接拖动），就可以放置方块了~放置完后你可以右键点击关卡空白处（手机版为双击）回到物品栏。如果觉得物品栏太挡视线怎么办？

<img src="./c4/image-20201125211555065.png" alt="image-20201125211555065"/>点击展开的物品栏标签，就可以收起物品栏了~

<img src="./c4/image-20201125211609984.png" alt="image-20201125211609984"/>在右下角可以切换页数。自然物品，道具等的放置同理。

### 4.删除和拖动物品

<img src="./c4/image-20201125211702051.png" alt="image-20201125211702051" style="zoom:150%;" />

如图，我搭建了一个简单的小场景，可是不小心多放了一个栗宝宝和两块地面。我想删除它们怎么办呢？

SM4J编辑器里有两种删除物品的方法。第一种是右键点击物品将其删除。我们对着想要删除的物品点鼠标右键（手机版是双击）

<img src="./c4/image-20201125211712680.png" alt="image-20201125211712680"/>

如果看到物品消失了，并有物品碎掉的音效，就说明这个东西被删除了。

第二种就是使用橡皮擦。SM4J的编辑器工具栏有个小橡皮擦，<img src="./c4/image-20201125211734558.png" alt="image-20201125211734558"/>我们点击它展开橡皮擦工具。 

<img src="./c4/image-20201125211758922.png" alt="image-20201125211758922"/> <img src="./c4/image-20201125211818096.png" alt="image-20201125211818096" style="zoom:150%;" />

这里可以看到，有三种不同的橡皮擦。红色的橡皮擦用于删除常规物品，这里点击选择红色橡皮擦。

（绿色蓝色的橡皮本章暂时不讲。）

可以看到你的光标变成了一个小橡皮~这时候对着你想删除的东西擦擦擦！就会把它们全部擦掉啦~擦完之后对空白处点击鼠标右键，就可以退出橡皮擦模式了！

**注：电脑版还可以长按鼠标右键进入红色橡皮擦模式哦。**

<img src="./c4/image-20201125211852366.png" alt="image-20201125211852366" style="zoom:80%;" />

SM4J的工具栏还有一个小手爪。使用这个工具可以拖动物品。点击它，切换到手爪光标，就可以拖动物品了~在手爪光标模式，也可以长按一个物品进行像素级的微调，这对于制造微操关卡很有帮助！如果想回到普通的手指光标，点击右键即可。

### 5.道具的使用

~~众所周知~~，马力欧爱吃蘑菇，所以蘑菇等帮助马力欧变强的道具必不可少。

<img src="./c4/image-20201125212402700.png" alt="image-20201125212402700" style="zoom:150%;" />

这里的<img src="./c4/image-20201125212415463.png" alt="image-20201125212415463"/>道具栏可以看到各种道具，有我们熟悉的道具，比如蘑菇啊火焰花啊DDJ弹簧啊什么的。我们可以像放置方块一样直接放置他们。而有的道具（比如弹簧）是竖着的。我们可以点击一下这个弹簧，一阵白烟闪过，这样它就变成横的了！

<img src="./c4/image-20201125212426606.png" alt="image-20201125212426606" style="zoom:80%;" />

对敌怪点击，也可以改变形态，如慢慢龟、酷霸王等。

关于各种道具的作用，大家可以自行去Mario Wiki查询。

原版马力欧游戏里，好多道具都是放在？砖块里面的。而SM4J里我们也可以这么做！玩过《超级马力欧创作家》（马里奥制造）的小伙伴肯定会说：“把道具拖动到？砖块上不就得了！”可是在SM4J里我们不能用这种方式将道具塞入砖块。

<img src="./c4/image-20201125212812273.png" alt="image-20201125212812273" style="zoom:80%;" />

如果这样，道具会从？砖块里掉下来，而不是塞入其中。正确的打开方式是：选择蘑菇，对着？砖块点击，就可以把蘑菇放入？砖块。听到开关音效时，说明放进去了。效果如图：<img src="./c4/image-20201125212824026.png" alt="image-20201125212824026"/>

### 6.切换创作和游玩状态

SM4J当然也可以像马造一样，随时切换创作和游玩。可以点击右上角的JUGAR（游玩）按钮，随时进入游玩模式测试关卡。在暂停菜单里选择VOLVER A EDICION（英文RETURN TO EDITOR），就可以返回编辑器。注意！SM4J和马造不一样，地图里的马力欧是关卡起始点，如果你在测试关卡的时候随意拖动，记得把他放回原位，否则游玩做好的关卡，马力欧的起始位置也会在那里。

点击<img src="./c4/image-20201125212946922.png" alt="image-20201125212946922" style="zoom:80%;" />可以隐藏或显示网格。

### 7.特殊道具

在<img src="./c4/image-20201125213029000.png" alt="image-20201125213029000"/>特殊道具栏可以看到大部分的特殊道具。这里先讲几个最基础的，其他的后面再讲。

<img src="./c4/image-20201125213044714.png" alt="image-20201125213044714" style="zoom: 67%;" />\- 中间旗。有两种样式可选。（NSMBWii、SMW）这个是马力欧的保存点，如果马力欧吃到这个旗子，死后将会在此处复活。SM4J没有中间旗数量限制。

<img src="./c4/image-20201125213054564.png" alt="image-20201125213054564" style="zoom: 67%;" /> \- 过关旗。有三种样式可选。（SMB1、SMW、SMB3）。马力欧吃到这个就可以过关。关卡中必须放置一个过关旗（过关模式或竞速模式），否则马力欧将无法过关。

<img src="./c4/image-20201125213103762.png" alt="image-20201125213103762" style="zoom:80%;" />  \- 管子。­­­有三种颜色，两种方向。

配合<img src="./c4/image-20201125213110391.png" alt="image-20201125213110391" style="zoom:80%;" />可以达­­­到钻管子的效果。使用例：<img src="./c4/image-20201125213121768.png" alt="image-20201125213121768" style="zoom:80%;" />

<img src="./c4/image-20201125213143221.png" alt="image-20201125213143221" style="zoom: 50%;" /> -灯泡。有七种颜色。

在黑夜模式（见下一节）中放置此物可提供照明。上排为不可见的灯泡，下排为可见灯泡。可通过多个混合来调色。使用例：

<img src="./c4/image-20201125213200320.png" alt="image-20201125213200320"/>

<img src="./c4/image-20201125213230623.png" alt="image-20201125213230623" style="zoom:80%;" />\- 手电筒。在黑夜模式，马力欧抱着可以提供移动的光源。使用例：

<img src="./c4/image-20201125213239383.png" alt="image-20201125213239383" style="zoom: 150%;" />

<img src="./c4/image-20201125213247049.png" alt="image-20201125213247049" style="zoom:80%;" /> \- 过关城堡。配合<img src="./c4/image-20201125213257337.png" alt="image-20201125213257337" style="zoom:80%;" />使用可达到过关进城堡的效果。放在过关旗右侧，马力欧过关后会走进城堡，而不是一直向右走。由于bug，此物无法移除，如果不小心放下，而不想要，就把他拖远一点吧！

<img src="./c4/image-20201125213316288.png" alt="image-20201125213316288" style="zoom:80%;" /> \- 文本框。可以在地图上展示文字（不支持中文）。使用例：

<img src="./c4/image-20201125213329260.png" alt="image-20201125213329260" style="zoom:150%;" />

<img src="./c4/image-20201125213335241.png" alt="image-20201125213335241" style="zoom:80%;" /> \- 对话框砖块。放置后在其上叠加一个文本框，就可以展示对话框。                               

<img src="./c4/image-20201125213343669.png" alt="image-20201125213343669" style="zoom: 80%;" />当马力欧顶这个砖块，就会显示对话框。

<img src="./c4/image-20201125213353829.png" alt="image-20201125213353829"/>

<img src="./c4/image-20201125213420842.png" alt="image-20201125213420842" style="zoom:80%;" /> \- “道具”栏的这3个物品，是奇诺比奥队长模式（见下文）的道具。马力欧无法使用！

剩余的特殊道具，详见《编辑器进阶》。